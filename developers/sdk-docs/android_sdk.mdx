---
title: 'Android SDK'
description: 'Genuin Android SDK comprises features such as brand feed, communities, and groups.'
---

Add new line

## Requirements

| Platform | Minimum SDK Version | Language | Supported Orientations | Supported Destinations |
| -------- | ------------------- | -------- | ---------------------- | ---------------------- |
| Android  | 24                  | Java/Kotlin    | Portrait               | Mobile                 |

## Installation

<Note> **Note**: Currently minimum SDK version is 24 but if you want to use our SDK in version below 24, use the below code snippet in the App level manifest file. </Note>

<CodeGroup>

```kotlin

<uses-sdk
    tools:overrideLibrary="com.begenuin.sdk, com.google.mediapipe.tasks.vision, com.google.mediapipe.tasks.core, com.arthenica.ffmpegkit"/>

```

</CodeGroup>

<Warning> **Warning**: If you use the above code then possible it may lead to the functionality failure in some cases. </Warning>

**1. Add repo details in project level gradle**

<CodeGroup>

```kotlin Kotlin-settings.gradle.kts
dependencyResolutionManagement {
  repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
  repositories {
    google()
    mavenCentral()
    jcenter()
    maven {
      setUrl("https://jitpack.io")
    } 
  }
}

```

```java Groovy-build.gradle
allprojects {  
  repositories {
    google()
    mavenCentral()
    jcenter()
    maven {
      setUrl("https://jitpack.io")
    } 
  }
}

```
</CodeGroup>


**2. Add dependency in app level gradle**

<CodeGroup>

```kotlin Kotlin-build.gradle.kts
implementation("org.bitbucket.genuindev:genuin_android_sdk:1.1.10.5@aar"){
        isTransitive=true
    }
```

```java Groovy-build.gradle
implementation('org.bitbucket.genuindev:genuin_android_sdk:1.1.10.5@aar') {
  transitive = true
}
```
</CodeGroup>

**3. Initialize SDK**

<CodeGroup>

```kotlin YourApplication.kt

class YourApplication : Application() {
  override fun onCreate() {
    GenuinSDK.initSDK(this, "YOUR_API_KEY")
  }
}

```

```kotlin YourActivity.kt

class YourActivity : AppCompatActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        GenuinSDK.initSDK(application, "YOUR_API_KEY")
    }
}

```

</CodeGroup>

**4. Load SDK in seperate activity**

<CodeGroup>

```kotlin

GenuinSDK.loadSDK(context)

```
</CodeGroup>
                                

**5. Load SDK in your custom activity**

Put below code in `activity_custom.xml` file

<CodeGroup>


```Kotlin activity_custom.xml

<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <FrameLayout
        android:id="@+id/frameLayout"
        android:layout_width="match_parent"
        android:layout_height="match_parent"/>
</LinearLayout>
```
</CodeGroup>

Put below code in `CustomActivity.kt` file

<CodeGroup>

```Kotlin CustomActivity.kt

import com.begenuin.begenuin.FeedFragment

class CustomActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_custom)

        val genuinFeedFragment = FeedFragment()
        supportFragmentManager.beginTransaction()
            .add(R.id.frameLayout, genuinFeedFragment)
            .addToBackStack("feedFragment").commit()
    }
}


```
</CodeGroup>


<Note>**Note**: In your custom activity, set soft input mode to `adjustPan` for better performance </Note>

<CodeGroup>

``` kotlin AndroidManifest.xml
android:windowSoftInputMode="adjustPan"
```
</CodeGroup>


**6. Load SDK with bottom navigation and fragment**

Add below code in `res/navigation/mobile_navigation.xml`

<CodeGroup>

```xml

<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/mobile_navigation"

    <fragment
        android:id="@+id/navigation_community"
        android:name="com.begenuin.begenuin.FeedFragment"
        android:label="@string/title_communities" />

</navigation>

```
</CodeGroup>

Add below code in your activity

<CodeGroup>

```kotlin ViewPager2
override fun onCreate(savedInstanceState: Bundle?) {
  super.onCreate(savedInstanceState)
  setSupportActionBar(Toolbar(this))
  initViewPager()
  val navView: BottomNavigationView = binding.navView
  navView.setOnItemSelectedListener { item ->
    when (item.itemId) {
      R.id.navigation_community -> {
        binding.viewPager.setCurrentItem(1, false)
        true
      }

      else -> false
    }
  }
}
private fun initViewPager() {
  val myPagerAdapter = MyPagerAdapter(this)
  binding.viewPager.adapter = myPagerAdapter
}

class MyPagerAdapter(fragmentActivity: FragmentActivity) :
  FragmentStateAdapter(fragmentActivity) {
  override fun createFragment(position: Int): Fragment {
    return when (position) {
      0 -> FeedFragment()
      else -> FeedFragment()
    }
  }
  override fun getItemCount(): Int {
    return NUM_PAGES
  }
  companion object {
    private const val NUM_PAGES = 1
  }
}

```

```kotlin NavHost
override fun onCreate(savedInstanceState: Bundle?) {
  super.onCreate(savedInstanceState)

  setSupportActionBar(Toolbar(this))
  val navView: BottomNavigationView = binding.navView

  val navController =
    findNavController(R.id.nav_host_fragment_activity_bottom_tab_with_nav_host)
  // Passing each menu ID as a set of Ids because each
  // menu should be considered as top level destinations.
  val appBarConfiguration = AppBarConfiguration(
    setOf(
      R.id.navigation_community
    )
  )
  setupActionBarWithNavController(navController, appBarConfiguration)
  navView.setupWithNavController(navController)
}
```
</CodeGroup>

**7. Want to override our default loader.**

We are using lottie animation for our loader. You can put your custom lottie animation loader with the name `loader_mix.json` in the `res/raw` folder. Make sure you use the same name as provided.

<Note> **Note**: In AndroidManifest.xml, in the `<application>` tag, set `android:allowBackup="false"` </Note>


## Embed

<Note> **Note**: Make sure you have followed the [First 3 installation steps](https://resources.begenuin.com/developers/sdk-docs/android_sdk#installation) in order to implement the Carousel Embed </Note>

### Carousel Embed

<Tip> Refer to [Carousel View](https://resources.begenuin.com/developers/guides/embed#mobile-view) in mobile. </Tip>

**1. Load Carousel Embed with XML**

<CodeGroup>

```xml activity_embed.xml

<LinearLayout
      android:id="@+id/llCarouselContainer"
      android:layout_width="match_parent"
      android:layout_height="300dp">

      <com.begenuin.sdk.ui.customview.embed.CarouselEmbedView
      android:id="@+id/carouselEmbedView"
      android:layout_width="match_parent"
      android:layout_height="match_parent"/>
</LinearLayout>

```
</CodeGroup>

<Note> **Note**: Carousel Container height must be fixed or match_parent. It can not be wrap_content else carousel embed will not appear. </Note>

<CodeGroup>

```kotlin EmbedActivity.kt (With SSO)

carouselEmbedView.apply {
            setEmbedParams(
               embedId = "YOUR_EMBED_ID", 
               uniqueId="UNIQUE_ID",
               interactionDeepLink = "YOUR_DEEPLINK",
               isDirectDeepLinkEnabled = false,
               isShowProfileEnabled = false
            )
            setActivity(activityContext)
            setSSOToken("YOUR_SSO_TOKEN")
            load()
        }
```

```kotlin EmbedActivity.kt (Without SSO)

carouselEmbedView.apply {
            setEmbedParams(
               embedId = "YOUR_EMBED_ID", 
               uniqueId="UNIQUE_ID",
               interactionDeepLink = "YOUR_DEEPLINK",
               isDirectDeepLinkEnabled = false,
               isShowProfileEnabled = false
            )
            setActivity(activityContext)
            load()
        }

```

</CodeGroup>

**2. Load Carousel Embed Programmatically**

<CodeGroup>

```xml activity_embed.xml

<LinearLayout
     android:id="@+id/llCarouselContainer"
     android:layout_width="match_parent"
     android:layout_height="300dp">           
</LinearLayout>
```
</CodeGroup>

<Note> **Note**: Carousel Container height must be fixed or match_parent. It can not be wrap_content else carousel embed will not appear. </Note>


<CodeGroup>


```kotlin EmbedActivity.kt (With SSO)
val carouselEmbedView = CarouselEmbedView(context)
llCarouselContainer.addView(carouselEmbedView)

carouselEmbedView.apply {
            setEmbedParams(
               embedId = "YOUR_EMBED_ID", 
               uniqueId="UNIQUE_ID",
               interactionDeepLink = "YOUR_DEEPLINK",
               isDirectDeepLinkEnabled = false,
               isShowProfileEnabled = false
            )
            setActivity(activityContext)
            setSSOToken("YOUR_SSO_TOKEN")
            load()
        }
```

```kotlin EmbedActivity.kt (Without SSO)

val carouselEmbedView = CarouselEmbedView(context)
llCarouselContainer.addView(carouselEmbedView)

carouselEmbedView.apply {
            setEmbedParams(
               embedId = "YOUR_EMBED_ID", 
               uniqueId="UNIQUE_ID",
               interactionDeepLink = "YOUR_DEEPLINK",
               isDirectDeepLinkEnabled = false,
               isShowProfileEnabled = false
            )
            setActivity(activityContext)
            load()
        }

```

</CodeGroup>

<Note> **Note**: To initialise the Embed you need to add your activity context `(setActivity(activityContext))` in which you want the embed. To auto login in the SDK,  you shall pass "YOUR_SSO_TOKEN"`(setSSOToken("YOUR_SSO_TOKEN"))` in order to implement Embed with SSO in your app. </Note>

To configure the `EmbedParams` based on your need you can pass the below values.


1. **embedId** = The Embed Id that you want to load.

2. **uniqueId** = This is an optional parameter. This uniqueId is used when we need to display same embed in multiple/same screen. We need to provide uniqueId for the same embedId in multiple/same screen.

3. **interactionDeepLink** = This is an optional parameter. You can pass a deeplink URL in this parameter. If a deeplink URL is given then all the interaction/clicks in the full screen view will redirect to the deeplink URL given. If not passed then the regular flow will work. It should be a correct URL else user will not be redirected.

4. **isDirectDeepLinkEnabled** = This is an optional boolean parameter. Default value is false. If this parameter is true then  all the interaction/clicks in the full screen view will redirect to the specific video in white labelled app associated with video and also value of this parameter "**interactionDeepLink**" will be ignored. If not passed then the regular flow will work. 

<Note> **Note**: For using `isDirectDeepLinkEnabled` parameter, you must have [white labelled your domain](https://resources.begenuin.com/retail-media/build/how_to_white-label_your_community) first and also integrated the [Handling deep link](https://resources.begenuin.com/developers/sdk-docs/android_sdk#handling-deep-link) part in your main app in which you want to redirect this video to. </Note>

5. **isShowProfileEnabled** = This is an optional boolean parameter. Default value is false. If this parameter is true and also if user is logged in than Profile picture will be visible in full screen view (right side top corner). On clicking the profile picture user will see the account settings and logout options.


**3. Manage carousel videos auto-play** 

<CodeGroup>

```kotlin EmbedActivity.kt

override fun onResume() {
    super.onResume()
    carouselEmbedView.resumeVideoAutoPlay()
}

override fun onPause() {
    carouselEmbedView.pauseVideoAutoPlay()
    super.onPause()
}

```
</CodeGroup>

### Full Screen Embed

Put below code in `activity_full_embed.xml` file

<CodeGroup>

```Kotlin activity_full_embed.xml

<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <FrameLayout
        android:id="@+id/frameLayout"
        android:layout_width="match_parent"
        android:layout_height="match_parent"/>
</LinearLayout>
```
</CodeGroup>

Put below code in `FullEmbedActivity.kt` file

<CodeGroup>

```Kotlin FullEmbedActivity.kt

import com.begenuin.sdk.ui.fragment.FeedEmbedFragment

class FullEmbedActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_full_embed)

        val feedEmbedFragment = FeedEmbedFragment.newInstance(
               embedId = "YOUR_EMBED_ID", 
               uniqueId="UNIQUE_ID",
               interactionDeepLink = "YOUR_DEEPLINK",
               isDirectDeepLinkEnabled = false,
               isShowProfileEnabled = false,
               ssoToken = "YOUR_SSO_TOKEN"
            )
        feedEmbedFragment.let {
            supportFragmentManager.beginTransaction()
                .add(R.id.frameLayout, it)
                .addToBackStack("EmbedFullFeed").commit()
        }
    }
}


```
</CodeGroup>

We need to pass below arguments in order to cofigure `FullScreenEmbed`.

1. **embedId** = The Embed Id that you want to load.

2. **uniqueId** = This is an optional parameter. This uniqueId is used when we need to display same embed in multiple/same screen. We need to provide uniqueId for the same embedId in multiple/same screen.

3. **interactionDeepLink** = This is an optional parameter. You can pass a deeplink URL in this parameter. If a deeplink URL is given then all the interaction/clicks in the full screen view will redirect to the deeplink URL given. If not passed then the regular flow will work. It should be a correct URL else user will not be redirected.

4. **isDirectDeepLinkEnabled** = This is an optional boolean parameter. Default value is false. If this parameter is true then all the interaction/clicks in the full screen view will redirect to the specific video in white labelled app associated with video and also value of this parameter "**interactionDeepLink**" will be ignored. If not passed then the regular flow will work. 

<Note> **Note**: For using `isDirectDeepLinkEnabled` parameter, you must have [white labelled your domain](https://resources.begenuin.com/retail-media/build/how_to_white-label_your_community) first and also integrated the [Handling deep link](https://resources.begenuin.com/developers/sdk-docs/android_sdk#handling-deep-link) part in your main app in which you want to redirect this video to. </Note>

5. **isShowProfileEnabled** = This is an optional boolean parameter. Default value is false. If this parameter is true and also if user is logged in than Profile picture will be visible in full screen view (right side top corner). On clicking the profile picture user will see the account settings and logout options.

6. **ssoToken**: This is an optional parameter. To auto login in the SDK, you shall pass "YOUR_SSO_TOKEN" in order to implement Embed with SSO in your app.


### Standard Wall Embed

Put below code in `activity_standard_wall_embed.xml` file

<CodeGroup>

```Kotlin activity_standard_wall_embed.xml

<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <FrameLayout
        android:id="@+id/frameLayout"
        android:layout_width="match_parent"
        android:layout_height="match_parent"/>
</LinearLayout>
```
</CodeGroup>

Put below code in `StandardWallEmbedActivity.kt` file

<CodeGroup>

```Kotlin StandardWallEmbedActivity.kt

import com.begenuin.sdk.ui.fragment.FeedEmbedFragment

class StandardWallEmbedActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_standard_wall_embed)

        val feedEmbedFragment = FeedEmbedFragment.newInstance(
               embedId = "YOUR_EMBED_ID", 
               uniqueId="UNIQUE_ID",
               isShowProfileEnabled = true
            )
        feedEmbedFragment.let {
            supportFragmentManager.beginTransaction()
                .add(R.id.frameLayout, it)
                .addToBackStack("EmbedStandardWallFeed").commit()
        }
    }
}


```
</CodeGroup>

We need to pass below arguments in order to cofigure `StandardWallEmbed`.

1. **embedId** = The Embed Id that you want to load.

2. **uniqueId** = This is an optional parameter. This uniqueId is used when we need to display same embed in multiple/same screen. We need to provide uniqueId for the same embedId in multiple/same screen.

3. **isShowProfileEnabled** = This is an optional boolean parameter. Default value is false. If this parameter is true and also if user is logged in than Profile picture will be visible in full screen view (right side top corner). On clicking the profile picture user will see the account settings and logout options.


## Handle SSO Login Explicitly in SDK

To Auto Login in the SDK, You need to call below method, whenever user is log in to your application. 

<Note> **Note**: You don't need to call the below method if you have implemented the Embed With SSO already. </Note>

<CodeGroup>

GenuinSDK.ssoLogin(context = "YOUR_CONTEXT", ssoToken = "YOUR_SSO_TOKEN")

</CodeGroup>

## Handle SSO Logout in SDK

Whenever user logs out from your application call the below method. 

<CodeGroup>

GenuinSDK.ssoLogout(context = "YOUR_CONTEXT")

</CodeGroup>


## Handling Deep Link

<Note> **Note**: Make sure you have followed the [First 3 installation steps](https://resources.begenuin.com/developers/sdk-docs/android_sdk#installation) in order to handle the deep link. </Note> 

**Prerequisite**:

    1. Make sure you have white labelled your community by following these [steps](https://resources.begenuin.com/retail-media/build/how_to_white-label_your_community).

    2. Follow the steps given in the below URL to integrate deeplink in your app
   https://developer.android.com/studio/write/app-link-indexing
  
  <Note>  **Note** : Here host will be your "YOUR_WHITE-LABELLED_DOMAIN" </Note>

    3. After completing deeplink setup, your `assetlinks.json` file should look like below

<CodeGroup>

```kotlin assetlinks.json

[{"target":{"package_name":"YOUR_PACKAGE_NAME","sha256_cert_fingerprints":["YOUR_KEYSTORE'S_SHA256_FINGERPRINTS"],"namespace":"android_app"},"relation":["delegate_permission/common.handle_all_urls"]}]

```

</CodeGroup>

    4. Host `assetlinks.json` file on the white labeled domain at `https://YOUR_WHITE-LABELLED_DOMAIN/.well-known/assetlinks.json`

**To Handle Our Deep Link In Your App**

You can call the below method immediately after receiving deeplink or you can wait until your app's home screen is loaded.

<CodeGroup>

```kotlin YourCustomActivity.kt

GenuinSDK.handleDeepLink(context = "YOUR_CONTEXT", intent = "YOUR_DEEPLINK_ACTIVITY_INTNET")

```
</CodeGroup>

<Note> **Note**: Need to call this function everytime your app receives any deeplink. This method will handle deeplink if it is our's otherwise it will ignore that. </Note>

## Handling Push Notifications

<Note> **Note**: Make sure you have followed the [First 3 installation steps](https://resources.begenuin.com/developers/sdk-docs/android_sdk#installation) in order to handle the push notifications. </Note> 


**Prerequisite:**

1. Create an app in your firebase using [these steps](https://firebase.google.com/docs/android/setup) 

2. Download the `google-services.json` file and add it into your app.

3. Integrate firebase into your app by following [these steps](https://firebase.google.com/docs/cloud-messaging/android/client)

**Get firebase token and register it with Genuin SDK**

<CodeGroup>

```kotlin 

private fun getFirebaseToken(){
        FirebaseMessaging.getInstance().token
            .addOnCompleteListener { task: Task<String> ->
                if (!task.isSuccessful) {
                    return@addOnCompleteListener
                }
                // Get new FCM registration token
                val token = task.result
                // Register token with Genuin SDK
                GenuinSDK.registerFCMToken("YOUR_CONTEXT", token)
            }
    }

```

</CodeGroup>

**Handle foreground notifications (When your app is in foreground)**

<CodeGroup>

```kotlin MyFirebaseMessagingService.kt

class MyFirebaseMessagingService : FirebaseMessagingService() {
    override fun onMessageReceived(remoteMessage: RemoteMessage) {
        super.onMessageReceived(remoteMessage)
        val data: Map<String, String> = remoteMessage.getData()
        if (GenuinSDK.willHandleForegroundNotification(data)) {
            val message = remoteMessage.notification?.body ?: ""
            GenuinSDK.handleForegroundNotifications(
                context = this,
                data = data,
                message = message,
                smallNotificationIcon = R.drawable.ic_small_notifications // Your app's notification small icon
            )
        } else {
            // Handle other push notifications for your app
        }
    }

    /**
     * There are two scenarios when onNewToken is called:
     * 1) When a new token is generated on initial app startup
     * 2) Whenever an existing token is changed
     * Under #2, there are three scenarios when the existing token is changed:
     * A) App is restored to a new device
     * B) User uninstalls/reinstall the app
     * C) User clears app data
     */
    override fun onNewToken(s: String) {
        super.onNewToken(s)
        GenuinSDK.registerFCMToken(this, s)
    }

}

```

</CodeGroup>

<Note> **Note**: `GenuinSDK.willHandleForegroundNotification(data: Map<String, String>)` function will check whether GenuinSDK will handle the given notification or not when app is in foreground. </Note>

**Handle notifications while app is running in background or closed**

- Whenever user clicks on notifications, you will get the notification payload in your launcher activity.

<CodeBlock>

```kotlin YourLauncherActivity.kt

if (GenuinSDK.willHandleNotification(intent)) {
     GenuinSDK.handleBackgroundNotifications(context = "YOUR_CONTEXT", intent)
}

```

</CodeBlock>

<Note> **Note**: `GenuinSDK.willHandleNotification(intent: Intent)` function will check whether GenuinSDK will handle the given notification or not. </Note>

## Whatâ€™s next?

<CardGroup cols={3}>
  <Card title="iOS SDK" icon="apple" href="https://resources.begenuin.com/developers/sdk-docs/ios_sdk">
    Integrate iOS SDK in Your ecosystem.
  </Card>
  <Card title="Web SDK" icon="desktop" href="https://resources.begenuin.com/developers/sdk-docs/web_sdk">
    Integrate Web SDK in your ecosystem.
  </Card>
  <Card title="React Native SDK" icon="react" href="https://resources.begenuin.com/developers/sdk-docs/react_native_sdk">
    Integrate React Native SDK in your ecosystem.
  </Card>
</CardGroup>

## Support

If you need any assistance or have any questions, feel free to email us at support@begenuin.com.


